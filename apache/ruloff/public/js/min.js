document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("name"),t=document.getElementById("phone"),n=document.getElementById("consent"),i=document.querySelector("form");if(!e.parentNode.querySelector(".invalid-feedback")){let l=document.createElement("div");l.className="invalid-feedback",l.textContent="Введите ваше имя",e.parentNode.appendChild(l)}if(!t.parentNode.querySelector(".invalid-feedback")){let s=document.createElement("div");s.className="invalid-feedback",s.textContent="Введите полный номер",t.parentNode.appendChild(s)}function r(e,t,n){let i=document.querySelector(e);if(!i)return null;let l=new Swiper(e,n),s=new IntersectionObserver((e,n)=>{e.forEach(e=>{e.isIntersecting&&(!function e(t,n){let i=t.querySelectorAll(`${n} img[loading="lazy"]`);i.forEach(e=>{e.removeAttribute("loading")})}(e.target,t),n.unobserve(e.target))})},{threshold:.1});return s.observe(i),l}e.addEventListener("input",function(){this.value=this.value.replace(/[^А-Яа-яЁё\s]/g,""),this.classList.remove("is-invalid")}),t.addEventListener("input",function(){let e=t.value.replace(/\D/g,""),n="+7 ";e.length>1&&(n+="("+e.substring(1,4)),e.length>=4&&(n+=") "+e.substring(4,7)),e.length>=7&&(n+="-"+e.substring(7,9)),e.length>=9&&(n+="-"+e.substring(9,11)),t.value=n,t.classList.remove("is-invalid")}),t.addEventListener("keydown",function(e){if("Backspace"===e.key){e.preventDefault();let n=t.value.replace(/\D/g,"");n.length>1&&(n=n.slice(0,-1));let i="+7 ";n.length>1&&(i+="("+n.substring(1,4)),n.length>=4&&(i+=") "+n.substring(4,7)),n.length>=7&&(i+="-"+n.substring(7,9)),n.length>=9&&(i+="-"+n.substring(9,11)),t.value=i}}),i.addEventListener("submit",function(i){let l=t.value.replace(/\D/g,""),s=e.value.trim(),r=n.checked;11!==l.length&&(i.preventDefault(),t.classList.add("is-invalid")),""===s&&(i.preventDefault(),e.classList.add("is-invalid")),r||(i.preventDefault(),n.classList.add("is-invalid"))}),r(".mySwiper",".product-card",{slidesPerView:3,spaceBetween:30,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{992:{slidesPerView:3},768:{slidesPerView:2},576:{slidesPerView:1},320:{slidesPerView:1},0:{slidesPerView:1}}}),r(".reviewsSwiper",".review-item",{slidesPerView:1,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}})});